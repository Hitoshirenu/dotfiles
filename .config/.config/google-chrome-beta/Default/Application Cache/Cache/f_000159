aw.prototype.Tp=ea(45,g("reason"));P_a.prototype.Tp=ea(44,g("C"));fC.prototype.Tp=ea(43,function(){return W(this,2)});function Dbe(a,b){$o(a.C,8192)?b():(Rp(a.zN,a.oa,function(){b()}),a.create())}function Ebe(a){a.O=!0;return a}function s5(a){Df(this,a,0,-1,null,null)}y(s5,Cf);s5.prototype.Tp=function(){return F(this,1)};s5.prototype.tV=function(){return F(this,2)};function Fbe(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function Gbe(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function Hbe(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function Ibe(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function Jbe(a){Df(this,a,0,-1,null,null)}y(Jbe,Cf);Jbe.prototype.r3=function(){return F(this,1)};Jbe.prototype.tV=function(){return F(this,2)};
function Kbe(){return Q('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function Lbe(a){ov.call(this);this.O=a;ks(this,"Turn on offline for all files?");a=new ss;xs(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);xs(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);vs(this,a);us(this,!1);this.wi=this.Er=!0;a=new fU;ls(this,Ks(WRc(a,Kbe)));this.C=this.F=null}y(Lbe,ov);
Lbe.prototype.Ja=function(){Lbe.qa.Ja.call(this);Gs(this,this.D.yu);this.F=oe(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=oe(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Uc(this.F,"click",this.L)};Lbe.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};Lbe.prototype.L=function(){K(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function Mbe(a,b,c,d){E.call(this);this.D=a;this.xa=b;this.L=c;this.O=new Zr(this.L,wNa(),this);this.xb=d;this.F=ff();this.H=this.C=null;this.J=!1}y(Mbe,E);Mbe.prototype.start=function(){var a=this;Nbe(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V(FKa,a.ma).V(sKa,a.oa).V(wKa,a.R)},function(b){a.F.resolve(He(b))})};function Obe(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
Mbe.prototype.ma=function(a){a=Jf(a,DKa,1);for(var b=0;b<a.length;b++){var c=a[b].Sy(JKa);if(c&&F(c,1)==this.D){Pbe(this,"Document data changed");break}}};Mbe.prototype.oa=function(a){F(a,1)==this.D&&Pbe(this,"Document available")};Mbe.prototype.R=function(){Pbe(this,"Offline disabled")};function Pbe(a,b){hf(Nbe(a,b),function(b){up(a.xb,He(b))})}
function Nbe(a,b){return hf(Qbe(a.xa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("Df");f&&a.dispatchEvent("Ef")}),function(a){throw Ie(a,{pinStatusUpdateReason:b});})};function Rbe(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=ff()}y(Rbe,E);function Sbe(a){return a.F.C.then(function(a){if(null!=a)throw a;})}Rbe.prototype.uA=g("D");function Tbe(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Ff")}function Ube(a){if(!a.D)return!1;a=a.D.Tp();return 1==a||6==a}Rbe.prototype.r3=g("C");function t5(a){Df(this,a,0,-1,null,null)}y(t5,Cf);t5.prototype.getType=function(){return F(this,1)};t5.prototype.setType=function(a){G(this,1,a)};function Vbe(a){Df(this,a,0,-1,null,null)}y(Vbe,Cf);Vbe.prototype.getType=function(){return F(this,1)};Vbe.prototype.setType=function(a){G(this,1,a)};Vbe.prototype.RI=function(){return If(this,Wbe,2)};function Wbe(a){Df(this,a,0,-1,null,null)}y(Wbe,Cf);Wbe.prototype.getType=function(){return F(this,1)};Wbe.prototype.setType=function(a){G(this,1,a)};
Wbe.prototype.getErrorMessage=function(){return F(this,2)};function Xbe(a){Df(this,a,0,-1,Ybe,null)}y(Xbe,Cf);var Ybe=[1];function Zbe(a){Df(this,a,0,-1,$be,null)}y(Zbe,Cf);var $be=[1];function ace(a){Df(this,a,0,-1,null,null)}y(ace,Cf);ace.prototype.H=function(){return If(this,Jbe,1)};function bce(a){Df(this,a,0,-1,null,null)}y(bce,Cf);bce.prototype.uA=function(){return If(this,s5,1)};function cce(a){Df(this,a,0,-1,null,null)}y(cce,Cf);function dce(a){Df(this,a,0,-1,null,null)}y(dce,Cf);
dce.prototype.uA=function(){return If(this,s5,1)};function ece(a){Df(this,a,0,-1,null,null)}y(ece,Cf);ece.prototype.getId=function(){return F(this,1)};ece.prototype.mf=function(a){G(this,1,a)};ece.prototype.getTitle=function(){return F(this,2)};ece.prototype.Qp=function(){return F(this,3)};function fce(a){Df(this,a,0,-1,gce,null)}y(fce,Cf);var gce=[1];function hce(a){Df(this,a,0,-1,null,null)}y(hce,Cf);hce.prototype.getId=function(){return F(this,1)};hce.prototype.mf=function(a){G(this,1,a)};
hce.prototype.getType=function(){return F(this,2)};hce.prototype.setType=function(a){G(this,2,a)};function ice(a,b,c,d,e,f,h,k,l){B.call(this);this.Ea=a;this.Ga=b;this.fb=c;this.H=d;this.D=e;this.xb=k;this.xa=new Er;this.Wa=new fl(this);this.Ba(this.Wa);this.Ka=a.C;this.ma=f;this.bb=h;this.J=this.C=null;this.F=l;this.O=jw(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.oa=jw(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=jw(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=jw(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}y(ice,B);p=ice.prototype;p.init=function(){var a=this;df([Sbe(this.D),Obe(this.H)]).then(function(){(fk(),bi).subscribe("action",a.fDa,a);a.Wa.V(a.H,"Df",a.Ksb).V(a.H,"Ef",a.$qb).V(a.D,"Ff",a.brb);jce(a);bi.setVisible(xf)},function(b){a.xb.Wc(He(b))})};p.fDa=function(){kce(this)};
function kce(a){return CJa(a.xa).then(function(){if(yr()){if(1==a.D.C)return lce(a);Ube(a.D)?mce(a):nce(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=xs(xs(new ss,{key:"ok",caption:"Install"},!0),As,!1,!0),c=a.ma,d=jRc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.W2a,null,a,void 0,b,void 0);c.Gh(d);d.focus();a.J=d;Gs(a.J,b.yu)}})}
p.W2a=function(){var a=this;this.xa.install().then(function(){return kce(a)},function(b){b=He(b);a.xb.Wc(b);eJa(b)})};function lce(a){var b=!(fk(),bi).Md();return hf((new $e(function(b){Dbe(a.Ka,b)})).then(function(){var c=new hce;c.mf(a.Ea.F);c.setType(a.Ga);return oce(a.fb,[c],b)}),function(b){nce(a,a.R);a.xb.log(He(b))})}function pce(a){hf(qce(a.bb),function(b){a.xb.log(He(b))}).then(function(){if(1==a.D.C)return lce(a);nce(a,a.L)})}
function mce(a){a.C||(a.C=new Lbe(function(){return pce(a)}),a.ma.Gh(a.C),a.Wa.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.Ksb=function(){jce(this);rce(this);this.H.C||nce(this,this.oa)};p.$qb=function(){rce(this)};p.brb=function(){jce(this)};function rce(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&nce(a,a.O)}function nce(a,b){b.Xb()||b.render();a.O.setVisible(!1);a.oa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function jce(a){(fk(),bi).hb(1==a.D.C||Ube(a.D));bi.yc(a.H.C)}p.Ha=function(){(fk(),bi).unsubscribe("action",this.fDa,this);this.C&&(AI(this.ma,this.C),C(this.C));this.J&&(AI(this.ma,this.J),C(this.J));ice.qa.Ha.call(this);ju(this.F,this.O);ju(this.F,this.oa);ju(this.F,this.R);ju(this.F,this.L);wb(this.O,this.oa,this.R,this.L)};function sce(a,b){this.E6=a;this.KL=b};function tce(a,b,c,d,e){B.call(this);this.xb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new bNa;this.J=c;this.D=null;this.F=new Pp;this.Ba(this.F);this.C=uce(this)}y(tce,B);function uce(a){a.C&&C(a.C);var b=wh(H(),"lssv");return new gNa(a.xb,a.O,0,a.p0a.bind(a),b,!0,a.J,new WLa)}function vce(a){if(a.D)return a.D;a.D=wce(a);return hf(a.D,function(b){a.m8();throw b;})}
function xce(a){return vce(a).then(function(a){return(new $e(function(b,d){dIa(a.wO(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==xh(H(),"docs-offline-lsuid")?new sce(a,b[0]):null}.bind(this))}.bind(a))}p=tce.prototype;p.get=function(){return xce(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.E6})};function wce(a){return(new $e(function(a,c){mf(this.C.create(this.m8.bind(this)),a,c)}.bind(a))).then(a.Vob.bind(a))}
p.Vob=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new LKa(a,this.H);this.Ba(c)}oFa(a);Qp(this.F,a.C.C.H,function(){b.m8()});Qp(this.F,a.C.oa,function(){b.m8()});return a};p.m8=function(){C(this.C);this.C=uce(this);this.D=null};p.p0a=function(a){return rLa(this.L,a)};p.Ha=function(){C(this.C);tce.qa.Ha.call(this)};function yce(a){this.D=a}yce.prototype.C=function(a){var b=new e1c;g1c(b,a.serialize());this.D.log(b);this.D.H()};function zce(a){this.D=a}zce.prototype.C=function(a){var b=new e1c;g1c(b,a.serialize());this.D.log(b);return new $e(function(a,b){this.D.flush(a,b)}.bind(this))};function Ace(a){this.D=a}Ace.prototype.C=function(a,b,c){xce(this.D).then(w(function(d){d?(new gsc(d.E6,"offline",null)).C(a,b,c):b()},this))};function Bce(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(dt({id:"docs-offline-optinpromo-confirm-close",content:Ws("Close")},c||b));return Q(a+"</div></div>")};function Cce(a){E.call(this);this.Db=a||Fd();this.Wa=new fl(this);this.Ba(this.Wa);this.C=new At(a);this.C.xz(!1);go(this.C.D,!1);this.C.Kd("docs-offline-optinpromo");this.C.render();a=this.C.gb();je(a,!0);Sk(a,"dialog");Tk(a,"labelledby","docs-offline-optinpromo-title");Tk(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new et(null);this.Ba(this.L);this.J=new et(null);this.Ba(this.J);this.H=new et(null);this.Ba(this.H);this.O=this.F=this.D=null;Dce(this,Ece)}y(Cce,E);
function Ece(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(dt({id:"docs-offline-optinpromo-optin",content:Ws("Turn on offline access"),style:2},b));a+=O(dt({id:"docs-offline-optinpromo-decline",content:Ws("No thanks"),style:0},b));return Q(a+"</div>")}
function Dce(a,b){var c=N(b);a.C.setContent(c);switch(b){case Ece:a.Wa.V(a.C,"show",a.Zsb);b=a.Db.getElement("docs-offline-optinpromo-optin");a.L.wb(b);a.Wa.Uc(a.L,"action",w(a.Crb,a));b=a.Db.getElement("docs-offline-optinpromo-decline");a.J.wb(b);a.Wa.Uc(a.J,"action",w(a.Qib,a));a.D=a.Db.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Db.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Db.getElement("docs-offline-optinpromo-learn-more-container");a.Wa.V(a.D,"click",w(a.SMa,
a,!0)).V(a.F,"click",w(a.SMa,a,!1));break;case Bce:b=a.Db.getElement("docs-offline-optinpromo-confirm-close");a.H.wb(b);a.Wa.Uc(a.H,"action",w(a.show,a,!1));a.C.gb().focus();break;default:throw Error("Cannot handle state "+b);}a.Db.getElement("docs-offline-optinpromo-title");a.Db.getElement("docs-offline-optinpromo-description")}p=Cce.prototype;p.SMa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.Crb=function(){this.dispatchEvent(new D("Hf"))};p.Qib=function(){this.dispatchEvent(new D("If"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Jf"))};p.Zsb=function(){this.C.gb().focus();this.dispatchEvent(new D("Gf"))};function Fce(a,b){this.L=a;this.H=b}function Gce(a){return Hce(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new s5;G(a,1,1);return a},a.J.bind(a))}Fce.prototype.J=function(a){if(a instanceof s5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Hce(a){var b=new s5;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return bf();case 4:return G(b,1,3),a=a.tV(),G(b,2,a),cf(b);case 1:return G(b,1,2),cf(b);case 5:return G(b,1,4),cf(b);default:throw Error("Unexpected enabled state: "+c);}})}Fce.prototype.D=function(){return(new $e(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return bf();a=new s5;G(a,1,5);return cf(a)})};Fce.prototype.C=function(){if(yr())return bf();var a=new s5;G(a,1,6);return cf(a)};
Fce.prototype.F=function(){var a=wh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new $e(function(b,c){I7a(function(d,e){e>a?b():(d=new s5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function Ice(a,b,c){this.D=a;this.C=c||null}Ice.prototype.tV=g("C");function Jce(a,b){this.C=a;this.xb=b}Jce.prototype.get=function(){return xce(this.C).then(function(a){return a?new Ice(1,a.KL.getId(),a.KL.oE(),Kce(this)):vce(this.C).then(function(a){return(new $e(function(b,d){dIa(a.wO(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new Ice(4,a.getId(),a.oE());else throw Error("More than one user in store: "+a.length);else a=Fbe()?new Ice(2):ZKa()?new Ice(5):new Ice(3);return a}.bind(this))}.bind(this))}.bind(this))};
function Kce(a){a=new r8a(a.xb);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new hx("metadata-sync",0,!0,new gx(1,$r(),jx("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new hx("service-worker-update",0,!0,new gx(2,FNa(),jx("service_worker_update"),3E5,!0,!1)),D7a());I(b,"docs-offline-edswut")&&d.push(new hx("drive-service-worker",0,!0,new gx(2,GNa(xh(H(),"drdn"),"/drive/serviceworker/update",!0),jx("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new hx("homescreen-cello-sync",wh(H(),"docs-offline-scstpim"),!0,new gx(2,GNa(ro(la.location.href),"/document/backgroundsync"),new ix,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new hx("drive-cello-sync",wh(H(),"docs-offline-scstpim"),!0,new gx(2,GNa(xh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new ix,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new hx("local-changes-sync",0,!1,new gx(1,$r(),jx("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new hx("auto-sync",wh(H(),"docs-offline-sastpim"),!1,new gx(1,$r(),jx("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new hx("webfonts-sync",0,!0,new gx(1,$r(),jx("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new hx("impression-sync",0,!1,new gx(1,$r(),jx("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new hx("document-deletion",0,!1,new gx(1,$r(),jx("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new hx("update-unsaved-changes",
0,!1,new gx(2,FNa(),jx("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new hx("cleanup-task",0,!1,new gx(2,FNa(),jx("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new hx("report-task",0,!1,new gx(2,FNa(),jx("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new hx("kix-snapshot",0,!1,new gx(1,GNa(ro(la.location.href),"/document/snapshot.js"),new ix,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new hx("sync-objects-sync",0,!0,new gx(1,$r(),jx("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=Z7a(a,b[d].getId()),!c||!Gf(c,5,!1))return!1;return!0};function Lce(a){this.C=a}function Mce(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Da()});a.C.setItem("optInLog",fp(c))}function Nce(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new Lce(a)};function Oce(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function Pce(a){return vce(a.H).then(function(a){return Qce(this,a).then(function(){var b=sNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return Rce(this,a,b)}.bind(this))}.bind(a)).then(function(a){return Sce(this,a)}.bind(a))}function Qce(a,b){return(new $e(function(a,d){dIa(b.wO(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function Rce(a,b,c){var d=new YEa(F(c,1),!0);ZEa(d,c.oE());$Ea(d,F(c,3));aFa(d,!!F(c,4));bFa(d,!!F(c,6));jq(d,"optInReasons",a.C);return(new $e(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function Sce(a,b){Mce(Nce(),b.oE()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Lr;var c=new tKa;iga(b,uKa,c);KKa(a.F,b);b=new Er;var d=new tNa(b);return yJa(b).then(function(){return new $e(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=uNa(),c=new xwa;this.C[0]&&G(c,1,ZHa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.Xy(81E3,0);b=jR(a);Kf(b,34,c);this.D.Yy(a)}.bind(a))};function Tce(a,b,c,d,e,f,h){B.call(this);this.Db=h||Fd();this.D=a;this.xb=b;this.J=c;this.Vb=d;a=new INa;this.Ba(a);this.F=new Nr(a,wNa());this.Ba(this.F);this.jb=new Zr(this.F,wNa(),this);this.Ba(this.jb);this.ib=new Zr(this.F,null,this);this.Ba(this.ib);this.ma=new tce(this.xb,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.ma);e=new Jce(this.ma,this.xb);a=new Er;this.Ub=new Fce(e,new tNa(a));e=this.ma;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=xh(b,"gaia_session_id");
a=new z1c(306,b||null,a,!(za(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new zce(a);e=xf&&XLa&&(zNa()||ANa())?new Ace(e):new fsc;e=new dsc(b,null,e);a=new yce(a);b=zMa();e=Xrc(Wrc(Ebe(Urc(Trc(new Src,e),a)),b),84).build();a=Qrc(e.IB());b=(new csc(!1)).get();a.H=b;this.yb=e;this.yb.JF();this.Bb=ROa(this.Db);this.C=null;this.Wa=new fl(this);this.Ba(this.Wa);this.Ea=new Pp;this.Ba(this.Ea);this.Ga=new wm(this.rmb,6E4,this);this.Ba(this.Ga);this.Fb=!1;this.O=this.Ka=this.L=null;
this.H=new Fe("docs-offline-promo-reload-butter-dismisss");this.Ba(this.H);this.H.setProperty("label","Dismiss");this.H.hb(!0);this.H.fc(Na,this.pjb.bind(this));this.R=sr.getInstance();this.oa=this.bb=this.xa=this.Hb=!1;this.fb=xf&&Cm("56.0.2924.87");this.sb=!1;this.Mb=f}y(Tce,B);p=Tce.prototype;p.init=function(){var a=this;yr()&&(Uce(this),Vce(this),u5(this).then(function(){Wce(a)},function(b){a.xb.Wc(He(b))}))};
function Wce(a){a.F.connect();Qp(a.Ea,a.D.lO(),function(){a.Ga.start();u5(a)});Qp(a.Ea,a.D.mO(),function(){a.Ga.stop();Uce(a);Vce(a);u5(a)});a.Wa.V(a.Bb,"change",a.Z2a);a.jb.V(uKa,a.Y2a);a.ib.V(uKa,a.X2a).V(yKa,a.Reb)}
function u5(a){return Gce(a.Ub).then(function(b){var c=1==b.Tp()&&!a.xa,d=a.D.Bi(),e;if(!(e=a.oa)&&(e=!Fbe())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.fb&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Hb||(h?a.C||(a.C=new Cce(a.Db),a.Ba(a.C),a.Wa.V(a.C,"Hf",a.Drb).V(a.C,"If",a.zrb).V(a.C,"Jf",a.j1a),a.C.show(!0),Xce(a)):a.C&&a.C.show(!1));if(a.Vb){if(2==b.Tp()||d||h)Yce(a);else if(a.Ka&&
!Of(b,a.Ka)&&Yce(a),null==a.L){h=Zce(b);if(!a.sb)switch(b.Tp()){case 1:break;case 3:$ce(a,"Offline ineligible, other user enabled");break;case 7:$ce(a,"Offline ineligible, insufficient disk space");break;case 5:$ce(a,"Offline ineligible, policy disallows");break;case 6:$ce(a,"Offline ineligible, no extension");break;case 4:$ce(a,"Offline ineligible, invalid db state");break;default:$ce(a,"Offline ineligible, unknown reason")}b=1==b.Tp()&&a.fb?vr(h,"Turn on...",a.xtb.bind(a),"info",!1):ur(h,"info",
!1);a.L=a.R.postMessage(b)}d&&a.xa&&!a.bb?null==a.O&&(d=vr("Reload to start editing even when offline.","Reload",a.ytb.bind(a),"info",!0,void 0,a.H),a.O=a.R.postMessage(d)):null!=a.O&&(tr(a.R,a.O),a.O=null)}})}p.rmb=function(){YKa()||Gbe(!0)};
p.Erb=function(){if(this.D.Bi()){var a=xh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+R(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+R(at("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=Q(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=dQa("Your documents are syncing",Ks(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.Db);K(b.Jq(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Hb=!0,Dce(this.C,Bce);this.xa=!0;u5(this)};p.Y2a=function(){this.xa=!0;u5(this)};p.X2a=function(){u5(this)};p.Reb=function(){this.oa=!1;u5(this)};
p.Brb=function(a){this.xb.Wc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=jw(this.Mb,"Turning on offline access failed. Please try again later.",this.Db);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};p.Drb=function(){this.J.Nb(2054);Gbe(!1);Pce(new Oce(this.ma,this.F,this.yb)).then(w(this.Erb,this),w(this.Brb,this))};
p.zrb=function(){this.D.Bi()?this.J.Nb(2055):Ibe(!0);Gbe(!1);la.localStorage.setItem("docs-urop","true");this.oa=!1;u5(this);var a=new Lr,b=new xKa;iga(a,yKa,b);KKa(this.F,a)};
function Zce(a){switch(a.Tp()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.tV()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function $ce(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";up(a.xb,Error("Offline editing disabled: "+b),c);a.sb=!0}function Yce(a){null!=a.L&&(tr(a.R,a.L),a.L=null,a.Ka=null)}p.xtb=function(){this.oa=!0;u5(this)};p.ytb=function(){la.location.reload()};p.pjb=function(){this.bb=!0};p.Z2a=function(){Xce(this)};p.j1a=function(){C(this.C);this.C=null};function Xce(a){!a.Fb&&a.C&&"hidden"!=a.Bb.getState()&&(a.D.Bi()?a.J.Nb(2847):Hbe(!0),a.Fb=!0)}
function Uce(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Bi()&&(Hbe(!1),a.J.Nb(2847))}function Vce(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Bi()&&(Ibe(!1),a.J.Nb(2055))};function ade(a,b,c,d,e,f,h){B.call(this);this.D=b;this.J=ff();bde(this);this.F=this.H=null;this.O=a;this.C=c;this.Wa=new fl(this);this.Ba(this.Wa);this.L=new Pp;this.Ba(this.L);this.R=d;this.ma=e;this.xa=f;this.oa=h}y(ade,B);p=ade.prototype;p.start=function(){var a=this;cde(this.D).then(function(b){b.connect();a.J.resolve(b)});dde(this);Qp(this.L,this.O.mO(),function(){ede(a)})};
function qce(a){if(2!=a.C.r3())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.r3());Tbe(a.C,4);return fde(a.D,10).then(function(a){var b=a.Tp();return bf().then(function(){return 1==b||2==b?v5(this,1):v5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.uA=function(){return this.D.uA()};
function dde(a){hf(a.D.H().then(function(a){switch(a.r3()){case 1:return gde(this.D).then(function(){return v5(this,1)}.bind(this)).then(function(){ede(this)}.bind(this));case 2:return v5(this,2);case 4:return hde(this,a.tV());case 3:return a=F(a,3),null!=a?ide(this,a):v5(this,2);case 5:return jde(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.vyb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&hf(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ff")}.bind(this)),ba().bind(this))};function hde(a){return v5(a,2)}function ide(a,b){return a.ma?fde(a.D,b).then(function(a){switch(a.Tp()){case 1:return v5(this,1);case 2:return v5(this,1);default:return v5(this,2)}}.bind(a)):bf()}
function jde(a){return a.xa?fde(a.D,2).then(function(a){switch(a.Tp()){case 1:case 2:return v5(this,1);default:return v5(this,2)}}.bind(a)):bf()}function bde(a){a.J.C.then(function(a){this.H=new Zr(a,"user_"+this.R,this);this.Ba(this.H);this.F=new Zr(a,null,this);this.Ba(this.F);this.H.V(uKa,this.a3a).V(wKa,this.Sqb).V(AKa,this.vyb);this.F.V(uKa,this.$2a).V(wKa,this.Qeb)}.bind(a))}p.a3a=function(){hf(v5(this,1),ba().bind(this))};p.Sqb=function(){hf(v5(this,2),ba().bind(this))};p.$2a=function(){kde(this)};
p.Qeb=function(){kde(this)};function v5(a,b){return a.uA().then(function(a){Tbe(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ff")}.bind(this))}.bind(a)).then(ba().bind(a))}function kde(a){a.uA().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("Ff")}.bind(a))}function ede(a){a.oa&&1==a.C.C&&hf(lde(a.D),ba().bind(a))};function mde(a){this.D=a}mde.prototype.C=g("D");function nde(a,b,c,d){B.call(this);this.F=ff();this.Db=d||Fd();this.Wa=new fl(this);this.Ba(this.Wa);this.J=a;a=new Io(b);a.tc("ouid",this.J);HNa()&&a.tc("Debug","true");Ro(a,"cd="+c);if(Gb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Lo(Ko(Jo(new Io,a.H),a.C),a.J).toString();this.C=this.Db.Da("IFRAME",{style:"display:none"});Sca(this.C,Cr(a.toString()));this.Wa.V(re(this.Db),"message",this.O);this.Db.Zb().body.appendChild(this.C);this.D=!1}y(nde,B);
function cde(a){var b=new t5;b.setType(1);return w5(a,b).then(function(a){a=new Nr(new mde(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function Qbe(a,b){var c=new t5;c.setType(2);var d=new Xbe;G(d,1,b||[]);Kf(c,2,d);return w5(a,c).then(function(a){return Jf(If(a.response,Zbe,3),ece,1)}.bind(a))}nde.prototype.H=function(){var a=new t5;a.setType(4);return w5(this,a).then(function(a){return If(a.response,ace,4).H()}.bind(this))};
nde.prototype.uA=function(){var a=new t5;a.setType(10);return w5(this,a).then(function(a){return If(a.response,bce,7).uA()}.bind(this))};function oce(a,b,c){var d=new t5;d.setType(5);var e=new fce;Lf(e,1,b);G(e,2,c);Kf(d,3,e);return w5(a,d).then(ba())}function fde(a,b){var c=new t5;c.setType(6);var d=new cce;G(d,1,b);Kf(c,4,d);return w5(a,c).then(function(a){return If(a.response,dce,5).uA()})}function gde(a){var b=new t5;b.setType(9);return w5(a,b).then(ba())}
function lde(a){var b=new t5;b.setType(11);return w5(a,b).then(ba())}
function w5(a,b){return a.F.C.then(function(a){var c=Da(),e=new MessageChannel;a.postMessage(b.Qf(),[e.port2]);var f=ff();e.port1.onmessage=w(function(a){a=new ode(a);a.response&&a.response.RI()?(a=a.response.RI(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=tm(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Da()-c)+"ms."))},u(void 0)?void 0:3E4);gf(f.C,function(){e.port1.close();
um(h)});return f.C}.bind(a))}nde.prototype.O=function(a){(a=a.we)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],vb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.Wa))};nde.prototype.Ha=function(){this.Db.uf(this.C);nde.qa.Ha.call(this)};function ode(a){this.response=a.data?new Vbe(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function pde(a,b,c,d,e,f,h,k,l,m){B.call(this);this.F=xh(H(),"docs-offline-lsuid");I(H(),"docs-offline-eeooip")&&(c=new Tce(a,b,c,d,h,l,m),this.Ba(c),c.init());this.H=new INa;this.C=new Nr(this.H,wNa());this.Ba(this.C);this.C.connect();this.D=new Rbe;this.Ba(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=ENa("/iframeapi",void 0),c=new nde(this.F,c,1),this.Ba(c),a=new ade(a,c,this.D,this.F,!1,!1,!1),this.Ba(a),a.start(),d=new Mbe(e.F,c,this.C,b),this.Ba(d),
d.start(),b=new ice(e,f,c,d,this.D,k,a,b,l),this.Ba(b),b.init())}y(pde,B);function qde(){B.call(this)}y(qde,HC);qde.prototype.C=function(a,b,c,d,e,f,h,k,l){return new pde(a,b,c,!0,d,e,f,h,k,l)};NC("offline",qde);
